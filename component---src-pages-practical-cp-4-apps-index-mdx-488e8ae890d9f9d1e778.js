(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{432:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return m}));a(11),a(5),a(6),a(4),a(10),a(1),a(0);var n=a(108),i=a(444);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var o={},l=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(n.b)("div",t)}},c=l("PageDescription"),r=l("AnchorLinks"),s=l("AnchorLink"),b={_frontmatter:o},d=i.a;function m(e){var t=e.components,a=function(e,t){if(null==e)return{};var a,n,i={},p=Object.keys(e);for(n=0;n<p.length;n++)a=p[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,["components"]);return Object(n.b)(d,p({},b,a,{components:t,mdxType:"MDXLayout"}),Object(n.b)(c,{mdxType:"PageDescription"},Object(n.b)("p",null,"Use IBM Cloud Pak for Applications for build new Cloud Native Applications")),Object(n.b)("p",null,"This guide assumes that the environment is already setup for your cluster."),Object(n.b)(r,{mdxType:"AnchorLinks"},Object(n.b)(s,{to:"#cp4apps-dashboard",mdxType:"AnchorLink"},"CP4Apps Dashboard"),Object(n.b)(s,{to:"#cp4apps-dev-tools",mdxType:"AnchorLink"},"CP4Apps Dev Tools"),Object(n.b)(s,{to:"#new-apps-with-appsody-cli",mdxType:"AnchorLink"},"New Apps with Apppsody CLI"),Object(n.b)(s,{to:"#new-apps-with-codewind",mdxType:"AnchorLink"},"New Apps with CodeWind"),Object(n.b)(s,{to:"#build-apps-with-tekton-pipelines",mdxType:"AnchorLink"},"Build Apps with Tekton Pipelines"),Object(n.b)(s,{to:"#scale-to-zero-serverless",mdxType:"AnchorLink"},"Scale to zero with Serverless")),Object(n.b)("h2",{id:"cp4apps-dashboard"},"CP4Apps Dashboard"),Object(n.b)("p",null,"Open the OpenShift Console and select ",Object(n.b)("inlineCode",{parentName:"p"},"Cloud Pack for Applications")," from the App Launcher"),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",p({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"29.213483146067414%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAABYlAAAWJQFJUiTwAAABbElEQVQY02OQk5bk5eHm5GBnY2Pj4OBgYWEGMtnZ2RlggIWFRUBAgJODg4eHh4+Xl4uDjYudjZmRESRnGRRbXN+Skl8Sm5qVkp2fklOUXlje2t7R1d0NxO2dnTOmTy+vqJSQlpeWUZCSVZTTMlbUNZXTNBSTUWDwaJjZu3pX37q9kzcd6Fm7r3nhxu6lW588ffH3z58f/////vv3////x46ftHPxNjG307d0MiqcbFkxx7xoipaNJ4NWSJaQdaCYQ7iiXwqvQwSDkQ+zvmdiVXt597SCjmlF7ZNLK2tT0zJd3H1sHVytbJ3UdIxUtI3UDK019MwYBEw85GwDBPSdRE09pa18BQxd5eyDWFWsGOVNGWWNmWVNtC2ddSwctQwttfRMtfTNdI0stA0s9ExttQzMGXj1nRhVrZhULBmVzBmBpIolkM2qbsOqYcesas1v4Kpn5WJi5WBm42RgYm1gaqNvYq1jaAE0SFPPFAC8eWHhYJNr8gAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",p({parentName:"span"},{className:"gatsby-resp-image-image",alt:"CP4Apps Launcher",title:"CP4Apps Launcher",src:"/ibm-garage-developer-guide/static/8746823c7aa4e73de14f7e48bc0d542c/fb070/icp4apps-launcher.png",srcSet:["/ibm-garage-developer-guide/static/8746823c7aa4e73de14f7e48bc0d542c/d6747/icp4apps-launcher.png 288w","/ibm-garage-developer-guide/static/8746823c7aa4e73de14f7e48bc0d542c/09548/icp4apps-launcher.png 576w","/ibm-garage-developer-guide/static/8746823c7aa4e73de14f7e48bc0d542c/fb070/icp4apps-launcher.png 1152w","/ibm-garage-developer-guide/static/8746823c7aa4e73de14f7e48bc0d542c/d7e8c/icp4apps-launcher.png 1602w"],sizes:"(max-width: 1152px) 100vw, 1152px",loading:"lazy"})),"\n    "),Object(n.b)("p",null,"Explore the ",Object(n.b)("inlineCode",{parentName:"p"},"Instances"),", ",Object(n.b)("inlineCode",{parentName:"p"},"Docs"),", and ",Object(n.b)("inlineCode",{parentName:"p"},"Guides")," from the landing page."),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",p({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"73.14112291350531%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAABYlAAAWJQFJUiTwAAACX0lEQVQoz31R21LaUBTNkw++6OjoH/g/MhYesBae+bqqQLgkSAK5cL/WKQIqIReSlpYQEhpwsCuJ+tKZrkn2WXudvc85e2/i+Pj47Oxsb29vf3//4OAA7uHh4cnJyenp6dHREfF/xOPxRCIRjUYvLy9hY7HYl6urz9FooITD4dD5Ob6Li0+RSOQiFPLcdxDr9XowGJim+fr6ut1up9Opoqrb3Q6uZVmapu18joDn5+fVagUeKAABv9FoaNoMimM7kqxIwweHo19cd7G0pNHQrTDgv+bzsSSbdf5l+uTudhvX3Ww2hGWtXNfFEYvFYrk0bcexwYffFzPNsm3Htk1ZMn8Y1mrlrP8sDf03XMSZMEtCkqTJZDLzoXlQNaw/5wGXZVkzDM3f8riua7qhKAqCUSABaTQafb2+SabShcJdkWFhWYYVxUqpzDEMS1EFsVKhCwWGLZFkhmFZjucpih6Px14yljSZQQ5NI7uIvWwu3253OI4vc3wuR2Wy2WQy1Wq18nkqmUrVavVkMo3+vd18i3vJDCy2r29uyUw2lwOlVVXVPczw+3xmGAaIYehIJPB0lI3DkMMLIi8IRYbheaFaqwmCiAiEqoqHYA0UX1C8mx8fH2v1Rq/fx1O7ne63+/tms9VsNDudLoggiji6Xm+Iogi31W5XqlWQXq9P4IDB4IEks3d3RbSrzHGweDNaQNEFhimxbIktldBIfNjieAEKSK/Xe2sYJFQelIDJgcBK7wjcwH7I3qiwYIbz+RydCLoSlOTPGXPVgzo/gJwP8paMvj/5wCtwOAh0cFgkB/f8i7+P6rNzvv06pgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",p({parentName:"span"},{className:"gatsby-resp-image-image",alt:"CP4Apps Landing",title:"CP4Apps Landing",src:"/ibm-garage-developer-guide/static/ef7771b0193595ecb2ebe01fbf1484c2/fb070/icp4apps-landing.png",srcSet:["/ibm-garage-developer-guide/static/ef7771b0193595ecb2ebe01fbf1484c2/d6747/icp4apps-landing.png 288w","/ibm-garage-developer-guide/static/ef7771b0193595ecb2ebe01fbf1484c2/09548/icp4apps-landing.png 576w","/ibm-garage-developer-guide/static/ef7771b0193595ecb2ebe01fbf1484c2/fb070/icp4apps-landing.png 1152w","/ibm-garage-developer-guide/static/ef7771b0193595ecb2ebe01fbf1484c2/7ae50/icp4apps-landing.png 1318w"],sizes:"(max-width: 1152px) 100vw, 1152px",loading:"lazy"})),"\n    "),Object(n.b)("h2",{id:"cp4apps-dev-tools"},"CP4Apps Dev Tools"),Object(n.b)("p",null,"The CP4Apps dashboard provides instructions and links to setup the dev tools."),Object(n.b)("p",null,"Go to the section ",Object(n.b)("inlineCode",{parentName:"p"},"Let's get started!")," and click ",Object(n.b)("inlineCode",{parentName:"p"},"Setup Dev Tools")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",p({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"55.99999999999999%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAABe0lEQVQoz3VRXW+CQBD0//+fNn1r+9Iq3wd6wJ0gH6IgFkwbATmUjhAfaurkstnb3dnLzE32+68wilRVQ9ymqUHMdZI4jmtacxzGl6ikadr3/eVy6f9isstzRQFXd102nUlPzy9xvFZU7fXtXdP0mSRLsloU5f/kpmmOx+PpdBJCfP/8tG1b17UQLeqonNq2E13/AJM839u2Q217FYRLz4/i2GUcOaV2EISGQTab7UMynsKzzQA8VVf1mLQDxqRu6qqqjtW1h4B407zbQfJgjzVfUFlRJVnBIcQyTUs3CAwjpkUQiSnLqq7jNofAKzlNM00zQINJmEbj43Oq6Qa2MM6xD9MYHzZDnMMYp7azWFB801Wzi8LSQxNq4Tl6/mp1neJLTPv+CsmhPIxCIAoyYSriBB8wCsTlfD7jR+AAclS6rkNldAQR13vDQE6ShFIahmE3AC44jhMEwUiIoohz7nlelmX3ZOwuy5IxBg5yMQCLiqI4DwBf3HBH/gWkGF5KQGYwLgAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",p({parentName:"span"},{className:"gatsby-resp-image-image",alt:"Setup CP4Apps Dev Tools",title:"Setup CP4Apps Dev Tools",src:"/ibm-garage-developer-guide/static/d638b709661077edefabda195de4042d/fb070/icp4apps-devtools.png",srcSet:["/ibm-garage-developer-guide/static/d638b709661077edefabda195de4042d/d6747/icp4apps-devtools.png 288w","/ibm-garage-developer-guide/static/d638b709661077edefabda195de4042d/09548/icp4apps-devtools.png 576w","/ibm-garage-developer-guide/static/d638b709661077edefabda195de4042d/fb070/icp4apps-devtools.png 1152w","/ibm-garage-developer-guide/static/d638b709661077edefabda195de4042d/c3bf2/icp4apps-devtools.png 1200w"],sizes:"(max-width: 1152px) 100vw, 1152px",loading:"lazy"})),"\n    "),Object(n.b)("p",null,"CP4Apps provides desktop development tools that work with VS Code and Eclipse IDEs, as well as a command line tool you can use with or without the IDEs."),Object(n.b)("p",null,"If using VS Code IDE:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Install ",Object(n.b)("a",p({parentName:"li"},{href:"https://marketplace.visualstudio.com/items?itemName=IBM.codewind"}),"Codewind from the VS Code Marketplace"))),Object(n.b)("p",null,"If using Eclipse IDE:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Install ",Object(n.b)("a",p({parentName:"li"},{href:"https://marketplace.eclipse.org/content/codewind"}),"Codewind from the Eclipse Marketplace"))),Object(n.b)("p",null,"Install ",Object(n.b)("a",p({parentName:"p"},{href:"https://appsody.dev/docs/getting-started/installation"}),"Appsody CLI")),Object(n.b)("h2",{id:"new-apps-with-appsody-cli"},"New Apps with Appsody CLI"),Object(n.b)("p",null,"Add the Collection Hub specific to your Kabanero Enterprise Instance in the cluster."),Object(n.b)("p",null,"Go to the Instance view on the CP4Apps dashboard and copy the Appsody URL."),Object(n.b)("p",null,"Run the following command to add a repository to your local appsody CLI configuration."),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody repo add kabanero-0.2.1 https://github.com/kabanero-io/collections/releases/download/0.2.1/kabanero-index.yaml\n")),Object(n.b)("p",null,"Set the new repo added as default, you will notice it will have a ",Object(n.b)("inlineCode",{parentName:"p"},"*")," in front"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody repo set-default kabanero-0.2.1\nappsody repo list\n")),Object(n.b)("p",null,"Here is the output:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"NAME                    URL                                                                                            \n*kabanero-0.2.1         https://github.com/kabanero-io/collections/releases/download/0.2.1/kabanero-index.yaml         \nincubator               https://github.com/appsody/stacks/releases/latest/download/incubator-index.yaml                \n")),Object(n.b)("p",null,"Run the following command to list the applications stacks allowed to be used:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody list kabanero-0.2.1\n")),Object(n.b)("p",null,"Here is the output"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"REPO            ID                      VERSION         TEMPLATES               DESCRIPTION                                              \nkabanero-0.2.1  java-microprofile       0.2.18          *default                Eclipse MicroProfile on Open Liberty & OpenJ9 using Maven\nkabanero-0.2.1  java-spring-boot2       0.3.15          *default, kotlin        Spring Boot using OpenJ9 and Maven                       \nkabanero-0.2.1  nodejs                  0.2.5           *simple                 Runtime for Node.js applications                         \nkabanero-0.2.1  nodejs-express          0.2.7           scaffold, *simple       Express web framework for Node.js                        \nkabanero-0.2.1  nodejs-loopback         0.1.5           *scaffold               LoopBack 4 API Framework for Node.js  \n")),Object(n.b)("p",null,"Create an empty directory that will contain the project:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"mkdir -p ~/projects/nodejs-express-$initials\ncd ~/projects/nodejs-express-$initials\n")),Object(n.b)("p",null,"Run the command to initialize the project"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody init kabanero-0.2.1/nodejs-express\n")),Object(n.b)("p",null,"To run the application you don’t need to have node.js or java sdk in your workstation, the application will run from a container that has all the tools included.\nRun the command to start the Application"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody run\n")),Object(n.b)("p",null,"Edit a file in the application with any editor, for example ",Object(n.b)("inlineCode",{parentName:"p"},"app.js"),".\nChange the response to ",Object(n.b)("inlineCode",{parentName:"p"},"Hello Garage"),".\nYou will notice that the change is detected and the application automatically restarted.\nEach stack comes with a set of instrumentation you can access them with the following endpoints."),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Application endpoint: ",Object(n.b)("a",p({parentName:"li"},{href:"http://localhost:3000/"}),"http://localhost:3000/")),Object(n.b)("li",{parentName:"ul"},"Health endpoint: ",Object(n.b)("a",p({parentName:"li"},{href:"http://localhost:3000/health"}),"http://localhost:3000/health")),Object(n.b)("li",{parentName:"ul"},"Liveness endpoint: ",Object(n.b)("a",p({parentName:"li"},{href:"http://localhost:3000/live"}),"http://localhost:3000/live")),Object(n.b)("li",{parentName:"ul"},"Readiness endpoint: ",Object(n.b)("a",p({parentName:"li"},{href:"http://localhost:3000/ready"}),"http://localhost:3000/ready")),Object(n.b)("li",{parentName:"ul"},"Metrics endpoint: ",Object(n.b)("a",p({parentName:"li"},{href:"http://localhost:3000/metrics"}),"http://localhost:3000/metrics")),Object(n.b)("li",{parentName:"ul"},"Dashboard endpoint: ",Object(n.b)("a",p({parentName:"li"},{href:"http://localhost:3000/appmetrics-dash"}),"http://localhost:3000/appmetrics-dash")," (development only)")),Object(n.b)("p",null,"In a different terminal chagen to the application directory and run the following command to stop the application"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody stop\n")),Object(n.b)("h2",{id:"new-apps-with-codewind"},"New Apps with CodeWind"),Object(n.b)("p",null,"Configure Codewind to point at your Kabanero Collection Hub.\nGet your Collection Hub URL from your team instance page."),Object(n.b)("p",null,"To set your Collection Hub URL, follow the instructions associated with the tool you are using:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Eclipse",Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},"See ",Object(n.b)("a",p({parentName:"li"},{href:"https://www.eclipse.org/codewind/mdteclipseusingadifferenttemplate.html"}),"Configuring template sources for Eclipse")))),Object(n.b)("li",{parentName:"ul"},"VS Code",Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},"See ",Object(n.b)("a",p({parentName:"li"},{href:"https://www.eclipse.org/codewind/mdt-vsc-usingadifferenttemplate.html"}),"Configuring template sources for VS Code"))))),Object(n.b)("p",null,"To create a new CodeWind Application using a application stack allowed by our Kabanero Enterprise instance, click on ",Object(n.b)("inlineCode",{parentName:"p"},"Projects (Local)"),", then select ",Object(n.b)("inlineCode",{parentName:"p"},"New Project"),"\nSelect the template ",Object(n.b)("inlineCode",{parentName:"p"},"Kabanero Node.js Express simple template (Appsody Stacks - kabanero-0.2.1)")," from the list, then provide a name like ",Object(n.b)("inlineCode",{parentName:"p"},"nodejs-express-$initials")),Object(n.b)("p",null,"The application will start, to work with the source code, right click on ",Object(n.b)("inlineCode",{parentName:"p"},"Projects")," and select ",Object(n.b)("inlineCode",{parentName:"p"},"Open CodeWind Workspace"),"."),Object(n.b)("p",null,"With the application in running state, explore the following options, right click on the application in the CodeWind view."),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Open App"),Object(n.b)("li",{parentName:"ul"},"Open Project Overview, verify the ports and status"),Object(n.b)("li",{parentName:"ul"},"Open Container Shell, explore the filesystem"),Object(n.b)("li",{parentName:"ul"},"Open Application Monitor, use the application and see the traffic metrics"),Object(n.b)("li",{parentName:"ul"},"Open Performance Dashboard and run a load test, see the traffic metrics"),Object(n.b)("li",{parentName:"ul"},"Restart in Debug mode, insert a break point in ",Object(n.b)("inlineCode",{parentName:"li"},"app.js")," and run the app to stop the application in debug view.")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",p({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"51.03734439834026%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVQoz1WQ2W7bMBBF9Q99LFLb2ixL0b5YIiUvMmlttiQv8h47TpqlSNG4QD+hL/3r0lUf2sHh5QVmhsQM5dg2SqbZNIcQmn/C+j8Mw/BcL0uzMBzZjqOZZstW6cByPZeSxU5b78JgiMOQFHYEodVo0K3WlWaTZRiiLvBP58fD6X6zP+SLJW8avGd7AFC8YkiqNRmMIc7640mAUqeHQBgRfJQoXZ9XTLuH5vtzdfc4257K3SEsC6kPPOBRN934w2Bnze+U1UVZfVPX7wR9e9E3V4TyVcifxHDq5wsnLbtpEZQzFQ9paF2bRVGSJAEhiFCEEB6NUEgOwgQ8jlzXUxUtA/HX6uXL8nk3XKyCfAbSOIig71OSdMvwHC3xHYHMWyN0OiJ5lNwkS/ToT36df/w8fn+Diwcze3LLfb8AEFybOY5vc22iLMsRrU3tidI0ozlWNi9wlsRlDsejhiFzwARkYeSHZrNFVsswHMNyf/UfSAYAuK7Ww8EwiRMylGpagq7y7TZl63LYg3gQmMqtIYumLOqyWJsaXRIAhMV8GaWT0TjWLEe1bFnT2E8fKTOq0uMbAW+e8fYVb1+sqNLxUkU1lRzOzLgqHt7Lz5dgfqJBxMKE89MbI/wN+YmK3PXvjDMAAAAASUVORK5CYII=')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",p({parentName:"span"},{className:"gatsby-resp-image-image",alt:"CodeWind Options",title:"CodeWind Options",src:"/ibm-garage-developer-guide/static/379564a6e723cf046c78ab8c0c57f12c/fb070/codewind.png",srcSet:["/ibm-garage-developer-guide/static/379564a6e723cf046c78ab8c0c57f12c/d6747/codewind.png 288w","/ibm-garage-developer-guide/static/379564a6e723cf046c78ab8c0c57f12c/09548/codewind.png 576w","/ibm-garage-developer-guide/static/379564a6e723cf046c78ab8c0c57f12c/fb070/codewind.png 1152w","/ibm-garage-developer-guide/static/379564a6e723cf046c78ab8c0c57f12c/9f1f4/codewind.png 1446w"],sizes:"(max-width: 1152px) 100vw, 1152px",loading:"lazy"})),"\n    "),Object(n.b)("h2",{id:"build-apps-with-tekton-pipelines"},"Build Apps with Tekton Pipelines"),Object(n.b)("h3",{id:"setup-namespace"},"Setup namespace"),Object(n.b)("p",null,"Creat a new namespace ",Object(n.b)("inlineCode",{parentName:"p"},"dev-$initials")," if not already created"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"oc new-project dev-$initials\n")),Object(n.b)("p",null,"Change context to your namespace"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"oc project dev-$intials\n")),Object(n.b)("p",null,"Verify namespace context"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"oc projet -q\n")),Object(n.b)("h3",{id:"create-the-git-webhook"},"Create the Git Webhook"),Object(n.b)("p",null,"Create a Github repository using your corresponding mooc organization and use your initials to make your repository unique.\nFor example ",Object(n.b)("inlineCode",{parentName:"p"},"https://github.com/mooc-team-one/nodejs-express-cs.git")),Object(n.b)("p",null,"Create a Git Webhook, open the Tekton Dashboard from the Instance view in the ICP4Apps Dashboard."),Object(n.b)("p",null,"Then click on Webhooks menu on the Tekton Dashboard."),Object(n.b)("p",null,"Then click ",Object(n.b)("inlineCode",{parentName:"p"},"Add Webhook")),Object(n.b)("p",null,"Enter the following values on the form."),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Name: ",Object(n.b)("inlineCode",{parentName:"li"},"nodejs-express-$intials")," like ",Object(n.b)("inlineCode",{parentName:"li"},"nodejs-express-cs")),Object(n.b)("li",{parentName:"ul"},"Repository URL: ",Object(n.b)("inlineCode",{parentName:"li"},"https://github.com/mooc-team-$id/nodejs-express-$initials.git")," like ",Object(n.b)("inlineCode",{parentName:"li"},"https://github.com/mooc-team-one/nodejs-express-cs.git")),Object(n.b)("li",{parentName:"ul"},"Access Token: ",Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},"Select from the list: ",Object(n.b)("inlineCode",{parentName:"li"},"github.com-mooc-access-token")," no need to create a new access token."))),Object(n.b)("li",{parentName:"ul"},"Namespace: ",Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},"Select ",Object(n.b)("inlineCode",{parentName:"li"},"kabanero"),", not your own namespace."))),Object(n.b)("li",{parentName:"ul"},"Pipeline: ",Object(n.b)("inlineCode",{parentName:"li"},"nodejs-express-build-deploy-pipeline-fix")," the one with prefix ",Object(n.b)("inlineCode",{parentName:"li"},"-fix")),Object(n.b)("li",{parentName:"ul"},"Service Account: ",Object(n.b)("inlineCode",{parentName:"li"},"kabanero-operator")),Object(n.b)("li",{parentName:"ul"},"Docker Registry: ",Object(n.b)("inlineCode",{parentName:"li"},"docker-registry.default.svc:5000/dev-$initials")," the ",Object(n.b)("inlineCode",{parentName:"li"},"dev-$initials")," is your namespace, like ",Object(n.b)("inlineCode",{parentName:"li"},"docker-registry.default.svc:5000/dev-cs")," ")),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",p({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"116.45768025078371%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAIAAACEf/j0AAAACXBIWXMAABYlAAAWJQFJUiTwAAACZ0lEQVQ4y5VUyXLTQBDVDQhwZTlC5e/gB0huTpyC+MS/5EoVgQLOdmGXXa4yeNMuWfvimdHwNC0nCugQXrVb0nhev57uljTZhf1+v1SYz+ez2WyxWGDl321aJ1kIEYZhoOD7PjxW7ku+J2pykiSIHUUR1NoKVQ3ZmPzbGvJqtRqPx9PpdDKZ7Hw/SxEthnWmekcZwRljZVkKUYdLcr4xI92OtnbkBmWQVp0WphUXigwmtLjSiVL2a+Mv9d1y6xtO6seiwyLuhozxqiGnCgiRZannOq7reJ7rubjateFnW466wa3ve3meCc6btEFL0rQoiizPXa9mAZ7noU9wnlpxnNpoMctyVETDD5w4jlFr6Mqi2EeRYZrWAaZpGoYBQg45JKYSDPJAVEKjlnAFodrCVAnUEbLkAHByhUKBcVZRqypqaOvmP4YEfR4Oh6PRCN2GdxwHsaEGHQiSPil3kFEwSgnTD49Ru9lNZDonIA7AGZFjXTBswniijERGIqgTcW5aSIgPwCBzahUuEIdHFug5lOvitzzp53dRtwpknBCdwA6QsWm9Xm+3240CssAjmtyWvaPMFPYKCIk/aCt8qUAdbsvisVGmVClDALIYDHjbtunk7ZpR3FtlejGoyGiLresOJswwEMDSdQpk2VYYhzGIB7tNu0kG7RFiV1U7IXzG4AMp8ZXAgJdpKfHWwbhsbqr2Z4he/asreXIq33+QlwN53pe9M2FZWP7y+/rdp5OLrxeX3wa96x5sFa5aZMZq/+at1DT54qV89Vo+fiofPOQ/R1jufz7TTrVng+fHH4+P+k8enR99X//4AxtzDW0td36iAAAAAElFTkSuQmCC')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",p({parentName:"span"},{className:"gatsby-resp-image-image",alt:"Create Webhook",title:"Create Webhook",src:"/ibm-garage-developer-guide/static/82069b2889215679a83f6313a3fe861d/fb070/create-webhook2.png",srcSet:["/ibm-garage-developer-guide/static/82069b2889215679a83f6313a3fe861d/d6747/create-webhook2.png 288w","/ibm-garage-developer-guide/static/82069b2889215679a83f6313a3fe861d/09548/create-webhook2.png 576w","/ibm-garage-developer-guide/static/82069b2889215679a83f6313a3fe861d/fb070/create-webhook2.png 1152w","/ibm-garage-developer-guide/static/82069b2889215679a83f6313a3fe861d/889de/create-webhook2.png 1276w"],sizes:"(max-width: 1152px) 100vw, 1152px",loading:"lazy"})),"\n    "),Object(n.b)("h3",{id:"setup-git-repository-for-deployment"},"Setup git repository for deployment"),Object(n.b)("p",null,"Run the following command, to generate the manifest"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"appsody deploy --generate-only \n")),Object(n.b)("p",null,"This command generated the following file ",Object(n.b)("inlineCode",{parentName:"p"},"app-deploy.yaml")),Object(n.b)("p",null,"Edit the file ",Object(n.b)("inlineCode",{parentName:"p"},"app-deploy.yaml"),"."),Object(n.b)("p",null,"Specify namespace to deploy application in your case ",Object(n.b)("inlineCode",{parentName:"p"},"dev-$initials")),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"metadata:\n  namespace: dev-$initials\n")),Object(n.b)("p",null,"Checking all the files:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),'git init\ngit add .\ngit commit -m "first commit"\n')),Object(n.b)("p",null,"Add the remote repo url and push"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"git remote add origin git@github.com:mooc-team-$id/nodejs-express-$initials.git\ngit push -u origin master\n")),Object(n.b)("p",null,"Select ",Object(n.b)("inlineCode",{parentName:"p"},"PipelineRuns")," in the Tekton UI to see the progress on the pipelines"),Object(n.b)("span",{className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1152px"}},"\n      ",Object(n.b)("span",p({parentName:"span"},{className:"gatsby-resp-image-background-image",style:{paddingBottom:"57.3170731707317%",position:"relative",bottom:"0",left:"0",backgroundImage:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAABYlAAAWJQFJUiTwAAABS0lEQVQoz5VRS07DMBD1ddhzBc6ExIo9F4GbVGLBgi5QVVWpgISkSRNix56xPR4mCa1AIESfnix/5s28GStsuu3Ta1FqZk6J/0b6TmV7kz+/aeP4dChAiBQ/EydGTw7jrwQfV0W839BDFhdryvdR7ZquqWtr3YzBeYej3kI8rHKkYSwRL+/o/Dpd3KSzK75dkFpn+XL5mGXbZsJgMYTgfSAi2YidGKP3nmgUU+K6NduXEkKySEre5qAZGKiuO617ANzve7np+75t28GC7mWoCcFp/c7Rg0OFiF3XSZ1ZDJ42G6523La8WjGAVA4pJQc+LwpjjLiQdCkEAK+01pJY6tMEGRgAOZesTU1Dx8+TTga5OmD06ElJsrIspbidMA0pOBwp3Q9O6IXz/KZ9OFKJwEwAscgsEcaOD0Zow9fQn1RVVYlt8Te3fRT/hx/+iHptBo9NrAAAAABJRU5ErkJggg==')",backgroundSize:"cover",display:"block"}})),"\n  ",Object(n.b)("img",p({parentName:"span"},{className:"gatsby-resp-image-image",alt:"PipelineRuns",title:"PipelineRuns",src:"/ibm-garage-developer-guide/static/694de0a297151d1905fd83b2acecd27b/fb070/pipelinerun-starts.png",srcSet:["/ibm-garage-developer-guide/static/694de0a297151d1905fd83b2acecd27b/d6747/pipelinerun-starts.png 288w","/ibm-garage-developer-guide/static/694de0a297151d1905fd83b2acecd27b/09548/pipelinerun-starts.png 576w","/ibm-garage-developer-guide/static/694de0a297151d1905fd83b2acecd27b/fb070/pipelinerun-starts.png 1152w","/ibm-garage-developer-guide/static/694de0a297151d1905fd83b2acecd27b/fb104/pipelinerun-starts.png 1728w","/ibm-garage-developer-guide/static/694de0a297151d1905fd83b2acecd27b/2233b/pipelinerun-starts.png 1968w"],sizes:"(max-width: 1152px) 100vw, 1152px",loading:"lazy"})),"\n    "),Object(n.b)("h2",{id:"scale-to-zero-serverless"},"Scale to zero (Serverless)"),Object(n.b)("p",null,"Edit the ",Object(n.b)("inlineCode",{parentName:"p"},"app-deploy.yaml")," and set the variable ",Object(n.b)("inlineCode",{parentName:"p"},"createKnativeService")," to ",Object(n.b)("inlineCode",{parentName:"p"},"true")),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{className:"language-yaml"}),"spec:\n  createKnativeService: true\n")),Object(n.b)("p",null,"Push the change to git:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),'git add app-deploy.yaml\ngit commit -m "make it serverless"\ngit push origin\n')),Object(n.b)("p",null,"When the tekton pipeline is done, get the URL of the Knative Service with the following command:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"oc get ksvc\n")),Object(n.b)("p",null,"The output should look like this:"),Object(n.b)("pre",null,Object(n.b)("code",p({parentName:"pre"},{}),"NAME                URL                                                                                                                               LATESTCREATED             LATESTREADY               READY   REASON\nnodejs-express-cs   http://nodejs-express-cs.dev-cs.mooc-surge-ocp-cluster-0143c5dd31acd8e030a1d6e0ab1380e3-0001.us-east.containers.appdomain.cloud   nodejs-express-cs-gfvfz   nodejs-express-cs-gfvfz   True    \n")))}m.isMDXComponent=!0},442:function(e){e.exports=JSON.parse('{"data":{"site":{"pathPrefix":"/ibm-garage-developer-guide"}}}')},443:function(e){e.exports=JSON.parse('{"data":{"site":{"siteMetadata":{"repository":{"baseUrl":"","subDirectory":"","branch":"master"}}}}}')},444:function(e,t,a){"use strict";a(32),a(28);var n=a(1),i=a(442),p=a(0),o=a.n(p),l=a(107),c=a.n(l),r=a(194),s=a(128),b=a(3),d=a.n(b),m=a(388),g=function(e){var t,a=e.title,i=e.tabs,p=void 0===i?[]:i;return Object(n.b)("div",{className:d()(m.pageHeader,(t={},t[m.withTabs]=p.length,t))},Object(n.b)("div",{className:"bx--grid"},Object(n.b)("div",{className:"bx--row"},Object(n.b)("div",{className:"bx--col-lg-12"},Object(n.b)("h1",{id:"page-title",className:m.text},a)))))},u=a(443),h=a(389),j=function(e){var t=e.relativePagePath,a=e.repository,i=u.data.site.siteMetadata.repository,p=a||i,o=p.baseUrl,l=p.subDirectory,c=o+"/edit/"+p.branch+l+"/src/pages"+t;return o?Object(n.b)("div",{className:"bx--row "+h.row},Object(n.b)("div",{className:"bx--col"},Object(n.b)("a",{className:h.link,href:c},"Edit this page on GitHub"))):null},O=a(193),A=(a(59),a(26)),f=a(390);var w=function(e){var t,a;function i(){return e.apply(this,arguments)||this}return a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,i.prototype.render=function(){var e=this.props,t=e.tabs,a=e.slug,i=a.split("/").filter(Boolean).slice(-1)[0],p=t.map((function(e){var t,p=c()(e,{lower:!0}),o=p===i,l=new RegExp(i+"(?!-)"),r=a.replace(l,p);return Object(n.b)("li",{key:e,className:d()((t={},t[f.selectedItem]=o,t),f.listItem)},Object(n.b)(A.Link,{className:f.link,to:""+r},e))}));return Object(n.b)("div",{className:f.tabsContainer},Object(n.b)("div",{className:"bx--grid"},Object(n.b)("div",{className:"bx--row"},Object(n.b)("div",{className:"bx--col-lg-12 bx--col-no-gutter"},Object(n.b)("nav",null,Object(n.b)("ul",{className:f.list},p))))))},i}(o.a.Component),N=a(195);t.a=function(e){var t=e.pageContext,a=e.children,p=e.location,o=e.Title,l=t.frontmatter,b=void 0===l?{}:l,d=t.relativePagePath,m=t.titleType,u=b.tabs,h=b.title,A=b.theme,f=b.description,y=b.keywords,v=i.data.site.pathPrefix,k=v?p.pathname.replace(v,""):p.pathname,C=u?k.split("/").slice(-1)[0]||c()(u[0],{lower:!0}):"";return Object(n.b)(s.a,{homepage:!1,theme:A,pageTitle:h,pageDescription:f,pageKeywords:y,titleType:m},Object(n.b)(g,{title:o?Object(n.b)(o,null):h,label:"label",tabs:u}),u&&Object(n.b)(w,{slug:k,tabs:u,currentTab:C}),Object(n.b)(N.a,{padded:!0},a,Object(n.b)(j,{relativePagePath:d})),Object(n.b)(O.a,{pageContext:t,location:p,slug:k,tabs:u,currentTab:C}),Object(n.b)(r.a,null))}}}]);
//# sourceMappingURL=component---src-pages-practical-cp-4-apps-index-mdx-488e8ae890d9f9d1e778.js.map